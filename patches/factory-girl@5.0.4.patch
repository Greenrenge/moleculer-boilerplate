diff --git a/browser.js b/browser.js
index 69ddb5a5421174e4cc68baad67dafa33dc83ecac..a9a8949273eeca1e03d03effa6449005b023d7a1 100644
--- a/browser.js
+++ b/browser.js
@@ -11798,7 +11798,7 @@ var MongooseAdapter = function (_DefaultAdapter) {
           while (1) {
             switch (_context.prev = _context.next) {
               case 0:
-                return _context.abrupt('return', model.remove());
+                return _context.abrupt('return', model.deleteOne());
 
               case 1:
               case 'end':
diff --git a/index.es6.js b/index.es6.js
index 7dc1b1077e413bfdcc7a8824cb884da0696c8536..b9f013c59556ece1e747eb1ece4215768bd1b2bd 100644
--- a/index.es6.js
+++ b/index.es6.js
@@ -1273,7 +1273,7 @@ var MongooseAdapter = function (_DefaultAdapter) {
           while (1) {
             switch (_context.prev = _context.next) {
               case 0:
-                return _context.abrupt('return', model.remove());
+                return _context.abrupt('return', model.deleteOne());
 
               case 1:
               case 'end':
diff --git a/index.es6.js.map b/index.es6.js.map
index 7a673de34612f48899366d916d96b10c298449a9..90ef6c9ba24a601e073c80654c3a57e2a6f28187 100644
--- a/index.es6.js.map
+++ b/index.es6.js.map
@@ -1 +1,191 @@
-{"version":3,"file":"index.es6.js","sources":["../src/utils/asyncPopulate.js","../src/Factory.js","../src/generators/Generator.js","../src/generators/Sequence.js","../src/generators/Assoc.js","../src/generators/AssocAttrs.js","../src/generators/AssocMany.js","../src/generators/AssocAttrsMany.js","../src/generators/ChanceGenerator.js","../src/generators/OneOf.js","../src/adapters/DefaultAdapter.js","../src/FactoryGirl.js","../src/adapters/ObjectAdapter.js","../src/adapters/BookshelfAdapter.js","../src/adapters/MongooseAdapter.js","../src/adapters/SequelizeAdapter.js","../src/adapters/ReduxORMAdapter.js","../src/index.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nexport default function asyncPopulate(target, source) {\n  if (typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n  if (typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = Object.keys(source).map(attr => {\n    let promise;\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (source[attr] === null || source[attr] === undefined) {\n      target[attr] = source[attr];\n    } else if (isPlainObject(source[attr])) {\n      target[attr] = target[attr] || {};\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (typeof source[attr] === 'function') {\n      promise = Promise.resolve(source[attr]()).then(v => { target[attr] = v; });\n    } else {\n      promise = Promise.resolve(source[attr]).then(v => { target[attr] = v; });\n    }\n    return promise;\n  });\n  return Promise.all(promises);\n}\n/* eslint-enable no-underscore-dangle */\n\nconst objectProto = Object.getPrototypeOf({});\nfunction isPlainObject(o) {\n  return Object.getPrototypeOf(o) === objectProto;\n}\n","import asyncPopulate from './utils/asyncPopulate';\n\nexport default class Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = {};\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model) {\n      throw new Error('Invalid Model constructor passed to the factory');\n    }\n    if ((typeof initializer !== 'object' && typeof initializer !== 'function') ||\n        !initializer) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = { ...this.options, ...options };\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs;\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = { ...this.initializer };\n    }\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(extraAttrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    const filteredAttrs = Object.keys(factoryAttrs).reduce((attrs, name) => {\n      if (!extraAttrs.hasOwnProperty(name)) attrs[name] = factoryAttrs[name];\n      return attrs;\n    }, {});\n\n    await asyncPopulate(modelAttrs, filteredAttrs);\n    await asyncPopulate(modelAttrs, extraAttrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, extraAttrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(extraAttrs, buildOptions);\n    const model = adapter.build(this.Model, modelAttrs);\n    return this.options.afterBuild ?\n        this.options.afterBuild(model, extraAttrs, buildOptions) :\n        model;\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(model, this.Model)\n      .then(savedModel => (this.options.afterCreate ?\n          this.options.afterCreate(savedModel, attrs, buildOptions) :\n          savedModel\n      ));\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n    if (typeof buildOptionsArray === 'object' && !Array.isArray(buildOptionsArray)) {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n    attrsArray.length = buildOptionsArray.length = num;\n    const models = [];\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = [],\n      buildCallbacks = true) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map(attr => adapter.build(this.Model, attr));\n    return Promise.all(models)\n      .then(builtModels => (this.options.afterBuild && buildCallbacks ?\n          Promise.all(builtModels.map(builtModel => this.options.afterBuild(\n            builtModel, attrsArray, buildOptionsArray\n          ))) :\n          builtModels\n      ));\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    if (Array.isArray(num)) {\n      buildOptionsArray = attrsArray;\n      attrsArray = num;\n      num = attrsArray.length;\n    }\n    const models = await this.buildMany(\n      adapter, num, attrsArray, buildOptionsArray\n    );\n    const savedModels = models.map(model => adapter.save(model, this.Model));\n    return Promise.all(savedModels)\n      .then(createdModels => (this.options.afterCreate ?\n          Promise.all(createdModels.map(createdModel => this.options.afterCreate(\n            createdModel, attrsArray, buildOptionsArray\n          ))) :\n          createdModels\n      ));\n  }\n}\n","\nexport default class Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance provided');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n\n  getAttribute(name, model, key) {\n    return this.factoryGirl.getAdapter(name).get(model, key);\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class Sequence extends Generator {\n  static sequences = {};\n\n  static reset(id = null) {\n    if (!id) {\n      Sequence.sequences = {};\n    } else {\n      Sequence.sequences[id] = undefined;\n    }\n  }\n\n  generate(id = null, callback = null) {\n    if (typeof id === 'function') {\n      callback = id;\n      id = null;\n    }\n    id = id || this.id || (this.id = generateId());\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    const next = Sequence.sequences[id]++;\n    return callback ? callback(next) : next;\n  }\n}\n\nfunction generateId() {\n  let id;\n  let i = 0;\n  do {\n    id = `_${i++}`;\n  } while (id in Sequence.sequences);\n  return id;\n}\n","\nimport Generator from './Generator';\n\nexport default class Assoc extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.create(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class AssocAttrs extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.attrs(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class AssocMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    const models = await this.factoryGirl.createMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n","\n\nimport Generator from './Generator';\n\nexport default class AssocAttrsMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested');\n    }\n    const models = await this.factoryGirl.attrsMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n","\nimport Generator from './Generator';\nimport Chance from 'chance';\n\nconst chance = new Chance();\n\nexport default class ChanceGenerator extends Generator {\n  generate(chanceMethod, ...options) {\n    if (typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n    return chance[chanceMethod](...options);\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class OneOf extends Generator {\n  async generate(possibleValues) {\n    if (!Array.isArray(possibleValues)) {\n      throw new Error('Expected an array of possible values');\n    }\n\n    if (possibleValues.length < 1) {\n      throw new Error('Empty array passed for possible values');\n    }\n\n    const size = possibleValues.length;\n    const randomIndex = Math.floor(Math.random() * size);\n    const value = possibleValues[randomIndex];\n    return (typeof value === 'function') ? value() : value;\n  }\n}\n","/* eslint-disable no-unused-vars */\nexport default class DefaultAdapter {\n  build(Model, props) {\n    return new Model(props);\n  }\n  async save(model, Model) {\n    return Promise.resolve(model.save()).then(() => model);\n  }\n  async destroy(model, Model) {\n    return Promise.resolve(model.destroy()).then(() => model);\n  }\n  get(model, attr, Model) {\n    return model.get(attr);\n  }\n  set(props, model, Model) {\n    return model.set(props);\n  }\n}\n","import Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport OneOf from './generators/OneOf';\nimport DefaultAdapter from './adapters/DefaultAdapter';\n\nexport default class FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options = {}) {\n    this.assoc = generatorThunk(this, Assoc);\n    this.assocMany = generatorThunk(this, AssocMany);\n    this.assocBuild = deprecate('assocBuild', 'assocAttrs');\n    this.assocBuildMany = deprecate('assocBuildMany', 'assocAttrsMany');\n    this.assocAttrs = generatorThunk(this, AssocAttrs);\n    this.assocAttrsMany = generatorThunk(this, AssocAttrsMany);\n    this.seq = this.sequence =\n      (...args) => generatorThunk(this, Sequence)(...args);\n    this.resetSeq = this.resetSequence = id => { Sequence.reset(id); };\n    this.chance = generatorThunk(this, ChanceGenerator);\n    this.oneOf = generatorThunk(this, OneOf);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const factory = this.factories[name] = new Factory(Model, initializer, options);\n    return factory;\n  }\n\n  extend(parent, name, childInitializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const parentFactory = this.getFactory(parent, true);\n    const Model = options.model || parentFactory.Model;\n    let jointInitializer;\n\n    function resolveInitializer(initializer, buildOptions) {\n      return typeof initializer === 'function' ? initializer(buildOptions) : initializer;\n    }\n\n    if (\n      typeof parentFactory.initializer === 'function' ||\n      typeof childInitializer === 'function'\n    ) {\n      jointInitializer = function initializer(buildOptions = {}) {\n        return Object.assign(\n          {},\n          resolveInitializer(parentFactory.initializer, buildOptions),\n          resolveInitializer(childInitializer, buildOptions)\n        );\n      };\n    } else {\n      jointInitializer = Object.assign({}, parentFactory.initializer, childInitializer);\n    }\n\n    const factory = this.factories[name] = new Factory(Model, jointInitializer, options);\n    return factory;\n  }\n\n  async attrs(name, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  async build(name, attrs = {}, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .build(adapter, attrs, buildOptions)\n      .then(model => (this.options.afterBuild ?\n          this.options.afterBuild(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  async create(name, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .create(adapter, attrs, buildOptions)\n      .then(createdModel => this.addToCreatedList(adapter, createdModel))\n      .then(model => (this.options.afterCreate ?\n          this.options.afterCreate(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  attrsMany(name, num, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  async buildMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .buildMany(adapter, num, attrs, buildOptions)\n      .then(models => (this.options.afterBuild ?\n          Promise.all(models.map(\n            model => this.options.afterBuild(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  async createMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .createMany(adapter, num, attrs, buildOptions)\n      .then(models => this.addToCreatedList(adapter, models))\n      .then(models => (this.options.afterCreate ?\n          Promise.all(models.map(\n            model => this.options.afterCreate(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  getFactory(name, throwError = true) {\n    if (!this.factories[name] && throwError) {\n      throw new Error(`Invalid factory '${name}' requested`);\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? { ...this.options, ...options } : options;\n  }\n\n  getAdapter(factory) {\n    return factory ?\n      (this.adapters[factory] || this.defaultAdapter) :\n      this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if (!Array.isArray(models)) {\n      this.created.add([adapter, models]);\n    } else {\n      for (const model of models) {\n        this.created.add([adapter, model]);\n      }\n    }\n    return models;\n  }\n\n  cleanUp() {\n    const createdArray = [];\n    for (const c of this.created) {\n      createdArray.push(c);\n    }\n    const promise = createdArray.reduce(\n      (prev, [adapter, model]) =>\n        prev.then(() => adapter.destroy(model, model.constructor)),\n      Promise.resolve()\n    );\n    this.created.clear();\n    this.resetSeq();\n    return promise;\n  }\n\n  setAdapter(adapter, factoryNames = null) {\n    if (!factoryNames) {\n      this.defaultAdapter = adapter;\n    } else {\n      factoryNames = Array.isArray(factoryNames) ? factoryNames : [factoryNames];\n      factoryNames.forEach(name => {\n        this.adapters[name] = adapter;\n      });\n    }\n    return adapter;\n  }\n}\n\nexport function generatorThunk(factoryGirl, SomeGenerator) {\n  const generator = new SomeGenerator(factoryGirl);\n  return (...args) => () => generator.generate(...args);\n}\n\nfunction deprecate(method, see) {\n  return () => {\n    throw new Error(`The ${method} method has been deprecated, use ${see} instead`);\n  };\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ObjectAdapter extends DefaultAdapter {\n  build(Model, props) {\n    const model = new Model;\n    this.set(props, model, Model);\n    return model;\n  }\n  async save(model, Model) {\n    return model;\n  }\n  async destroy(model, Model) {\n    return model;\n  }\n  get(model, attr, Model) {\n    return model[attr];\n  }\n  set(props, model, Model) {\n    return Object.assign(model, props);\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class BookshelfAdapter extends DefaultAdapter {\n  save(doc, Model) {\n    return doc.save(null, { method: 'insert' });\n  }\n}\n\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class MongooseAdapter extends DefaultAdapter {\n  async destroy(model, Model) {\n    return model.remove();\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class SequelizeAdapter extends DefaultAdapter {\n  build(Model, props) {\n    return Model.build(props);\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ReduxORMAdapter extends DefaultAdapter {\n  constructor(session) {\n    super();\n    this.session = session;\n  }\n\n  build(modelName, props) {\n    return this.session[modelName].create(props);\n  }\n\n  get(model, attr) {\n    return model[attr];\n  }\n\n  async save(model, Model) {\n    return model;\n  }\n\n  async destroy(model, Model) {\n    return Promise.resolve(model.delete()).then(() => true);\n  }\n}\n","import FactoryGirl from './FactoryGirl';\n\nexport ObjectAdapter from './adapters/ObjectAdapter';\nexport BookshelfAdapter from './adapters/BookshelfAdapter';\nexport DefaultAdapter from './adapters/DefaultAdapter';\nexport MongooseAdapter from './adapters/MongooseAdapter';\nexport SequelizeAdapter from './adapters/SequelizeAdapter';\nexport ReduxORMAdapter from './adapters/ReduxORMAdapter';\n\nconst factory = new FactoryGirl();\nfactory.FactoryGirl = FactoryGirl;\n\nexport { factory };\n\nexport default factory;\n"],"names":["asyncPopulate","target","source","reject","Error","promises","map","promise","Array","isArray","attr","undefined","isPlainObject","resolve","then","v","all","objectProto","o","Factory","Model","initializer","options","name","buildOptions","attrs","extraAttrs","getFactoryAttrs","factoryAttrs","reduce","hasOwnProperty","modelAttrs","filteredAttrs","adapter","build","afterBuild","model","save","afterCreate","savedModel","num","attrsArray","buildOptionsArray","attrObject","buildOptionsObject","length","models","i","buildCallbacks","attrsMany","builtModels","builtModel","buildMany","savedModels","createdModels","createdModel","Generator","factoryGirl","key","getAdapter","get","Sequence","id","callback","generateId","sequences","next","Assoc","create","getAttribute","AssocAttrs","AssocMany","createMany","AssocAttrsMany","chance","Chance","ChanceGenerator","chanceMethod","OneOf","possibleValues","Math","floor","random","size","randomIndex","value","DefaultAdapter","props","destroy","set","FactoryGirl","factories","adapters","created","assoc","generatorThunk","assocMany","assocBuild","deprecate","assocBuildMany","assocAttrs","assocAttrsMany","seq","sequence","resetSeq","resetSequence","reset","oneOf","defaultAdapter","getFactory","factory","parent","childInitializer","parentFactory","jointInitializer","resolveInitializer","addToCreatedList","throwError","merge","add","createdArray","c","push","prev","constructor","clear","factoryNames","forEach","SomeGenerator","generator","args","generate","method","see","ObjectAdapter","BookshelfAdapter","doc","MongooseAdapter","remove","SequelizeAdapter","ReduxORMAdapter","session","modelName","delete"],"mappings":"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"}
\ No newline at end of file
+{
+	"version": 3,
+	"file": "index.es6.js",
+	"sources": [
+		"../src/utils/asyncPopulate.js",
+		"../src/Factory.js",
+		"../src/generators/Generator.js",
+		"../src/generators/Sequence.js",
+		"../src/generators/Assoc.js",
+		"../src/generators/AssocAttrs.js",
+		"../src/generators/AssocMany.js",
+		"../src/generators/AssocAttrsMany.js",
+		"../src/generators/ChanceGenerator.js",
+		"../src/generators/OneOf.js",
+		"../src/adapters/DefaultAdapter.js",
+		"../src/FactoryGirl.js",
+		"../src/adapters/ObjectAdapter.js",
+		"../src/adapters/BookshelfAdapter.js",
+		"../src/adapters/MongooseAdapter.js",
+		"../src/adapters/SequelizeAdapter.js",
+		"../src/adapters/ReduxORMAdapter.js",
+		"../src/index.js"
+	],
+	"sourcesContent": [
+		"/* eslint-disable no-underscore-dangle */\nexport default function asyncPopulate(target, source) {\n  if (typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n  if (typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = Object.keys(source).map(attr => {\n    let promise;\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (source[attr] === null || source[attr] === undefined) {\n      target[attr] = source[attr];\n    } else if (isPlainObject(source[attr])) {\n      target[attr] = target[attr] || {};\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (typeof source[attr] === 'function') {\n      promise = Promise.resolve(source[attr]()).then(v => { target[attr] = v; });\n    } else {\n      promise = Promise.resolve(source[attr]).then(v => { target[attr] = v; });\n    }\n    return promise;\n  });\n  return Promise.all(promises);\n}\n/* eslint-enable no-underscore-dangle */\n\nconst objectProto = Object.getPrototypeOf({});\nfunction isPlainObject(o) {\n  return Object.getPrototypeOf(o) === objectProto;\n}\n",
+		"import asyncPopulate from './utils/asyncPopulate';\n\nexport default class Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = {};\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model) {\n      throw new Error('Invalid Model constructor passed to the factory');\n    }\n    if ((typeof initializer !== 'object' && typeof initializer !== 'function') ||\n        !initializer) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = { ...this.options, ...options };\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs;\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = { ...this.initializer };\n    }\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(extraAttrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    const filteredAttrs = Object.keys(factoryAttrs).reduce((attrs, name) => {\n      if (!extraAttrs.hasOwnProperty(name)) attrs[name] = factoryAttrs[name];\n      return attrs;\n    }, {});\n\n    await asyncPopulate(modelAttrs, filteredAttrs);\n    await asyncPopulate(modelAttrs, extraAttrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, extraAttrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(extraAttrs, buildOptions);\n    const model = adapter.build(this.Model, modelAttrs);\n    return this.options.afterBuild ?\n        this.options.afterBuild(model, extraAttrs, buildOptions) :\n        model;\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(model, this.Model)\n      .then(savedModel => (this.options.afterCreate ?\n          this.options.afterCreate(savedModel, attrs, buildOptions) :\n          savedModel\n      ));\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n    if (typeof buildOptionsArray === 'object' && !Array.isArray(buildOptionsArray)) {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n    attrsArray.length = buildOptionsArray.length = num;\n    const models = [];\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = [],\n      buildCallbacks = true) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map(attr => adapter.build(this.Model, attr));\n    return Promise.all(models)\n      .then(builtModels => (this.options.afterBuild && buildCallbacks ?\n          Promise.all(builtModels.map(builtModel => this.options.afterBuild(\n            builtModel, attrsArray, buildOptionsArray\n          ))) :\n          builtModels\n      ));\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    if (Array.isArray(num)) {\n      buildOptionsArray = attrsArray;\n      attrsArray = num;\n      num = attrsArray.length;\n    }\n    const models = await this.buildMany(\n      adapter, num, attrsArray, buildOptionsArray\n    );\n    const savedModels = models.map(model => adapter.save(model, this.Model));\n    return Promise.all(savedModels)\n      .then(createdModels => (this.options.afterCreate ?\n          Promise.all(createdModels.map(createdModel => this.options.afterCreate(\n            createdModel, attrsArray, buildOptionsArray\n          ))) :\n          createdModels\n      ));\n  }\n}\n",
+		"\nexport default class Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance provided');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n\n  getAttribute(name, model, key) {\n    return this.factoryGirl.getAdapter(name).get(model, key);\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class Sequence extends Generator {\n  static sequences = {};\n\n  static reset(id = null) {\n    if (!id) {\n      Sequence.sequences = {};\n    } else {\n      Sequence.sequences[id] = undefined;\n    }\n  }\n\n  generate(id = null, callback = null) {\n    if (typeof id === 'function') {\n      callback = id;\n      id = null;\n    }\n    id = id || this.id || (this.id = generateId());\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    const next = Sequence.sequences[id]++;\n    return callback ? callback(next) : next;\n  }\n}\n\nfunction generateId() {\n  let id;\n  let i = 0;\n  do {\n    id = `_${i++}`;\n  } while (id in Sequence.sequences);\n  return id;\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class Assoc extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.create(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class AssocAttrs extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.attrs(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class AssocMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    const models = await this.factoryGirl.createMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n",
+		"\n\nimport Generator from './Generator';\n\nexport default class AssocAttrsMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested');\n    }\n    const models = await this.factoryGirl.attrsMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n",
+		"\nimport Generator from './Generator';\nimport Chance from 'chance';\n\nconst chance = new Chance();\n\nexport default class ChanceGenerator extends Generator {\n  generate(chanceMethod, ...options) {\n    if (typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n    return chance[chanceMethod](...options);\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class OneOf extends Generator {\n  async generate(possibleValues) {\n    if (!Array.isArray(possibleValues)) {\n      throw new Error('Expected an array of possible values');\n    }\n\n    if (possibleValues.length < 1) {\n      throw new Error('Empty array passed for possible values');\n    }\n\n    const size = possibleValues.length;\n    const randomIndex = Math.floor(Math.random() * size);\n    const value = possibleValues[randomIndex];\n    return (typeof value === 'function') ? value() : value;\n  }\n}\n",
+		"/* eslint-disable no-unused-vars */\nexport default class DefaultAdapter {\n  build(Model, props) {\n    return new Model(props);\n  }\n  async save(model, Model) {\n    return Promise.resolve(model.save()).then(() => model);\n  }\n  async destroy(model, Model) {\n    return Promise.resolve(model.destroy()).then(() => model);\n  }\n  get(model, attr, Model) {\n    return model.get(attr);\n  }\n  set(props, model, Model) {\n    return model.set(props);\n  }\n}\n",
+		"import Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport OneOf from './generators/OneOf';\nimport DefaultAdapter from './adapters/DefaultAdapter';\n\nexport default class FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options = {}) {\n    this.assoc = generatorThunk(this, Assoc);\n    this.assocMany = generatorThunk(this, AssocMany);\n    this.assocBuild = deprecate('assocBuild', 'assocAttrs');\n    this.assocBuildMany = deprecate('assocBuildMany', 'assocAttrsMany');\n    this.assocAttrs = generatorThunk(this, AssocAttrs);\n    this.assocAttrsMany = generatorThunk(this, AssocAttrsMany);\n    this.seq = this.sequence =\n      (...args) => generatorThunk(this, Sequence)(...args);\n    this.resetSeq = this.resetSequence = id => { Sequence.reset(id); };\n    this.chance = generatorThunk(this, ChanceGenerator);\n    this.oneOf = generatorThunk(this, OneOf);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const factory = this.factories[name] = new Factory(Model, initializer, options);\n    return factory;\n  }\n\n  extend(parent, name, childInitializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const parentFactory = this.getFactory(parent, true);\n    const Model = options.model || parentFactory.Model;\n    let jointInitializer;\n\n    function resolveInitializer(initializer, buildOptions) {\n      return typeof initializer === 'function' ? initializer(buildOptions) : initializer;\n    }\n\n    if (\n      typeof parentFactory.initializer === 'function' ||\n      typeof childInitializer === 'function'\n    ) {\n      jointInitializer = function initializer(buildOptions = {}) {\n        return Object.assign(\n          {},\n          resolveInitializer(parentFactory.initializer, buildOptions),\n          resolveInitializer(childInitializer, buildOptions)\n        );\n      };\n    } else {\n      jointInitializer = Object.assign({}, parentFactory.initializer, childInitializer);\n    }\n\n    const factory = this.factories[name] = new Factory(Model, jointInitializer, options);\n    return factory;\n  }\n\n  async attrs(name, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  async build(name, attrs = {}, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .build(adapter, attrs, buildOptions)\n      .then(model => (this.options.afterBuild ?\n          this.options.afterBuild(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  async create(name, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .create(adapter, attrs, buildOptions)\n      .then(createdModel => this.addToCreatedList(adapter, createdModel))\n      .then(model => (this.options.afterCreate ?\n          this.options.afterCreate(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  attrsMany(name, num, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  async buildMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .buildMany(adapter, num, attrs, buildOptions)\n      .then(models => (this.options.afterBuild ?\n          Promise.all(models.map(\n            model => this.options.afterBuild(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  async createMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .createMany(adapter, num, attrs, buildOptions)\n      .then(models => this.addToCreatedList(adapter, models))\n      .then(models => (this.options.afterCreate ?\n          Promise.all(models.map(\n            model => this.options.afterCreate(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  getFactory(name, throwError = true) {\n    if (!this.factories[name] && throwError) {\n      throw new Error(`Invalid factory '${name}' requested`);\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? { ...this.options, ...options } : options;\n  }\n\n  getAdapter(factory) {\n    return factory ?\n      (this.adapters[factory] || this.defaultAdapter) :\n      this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if (!Array.isArray(models)) {\n      this.created.add([adapter, models]);\n    } else {\n      for (const model of models) {\n        this.created.add([adapter, model]);\n      }\n    }\n    return models;\n  }\n\n  cleanUp() {\n    const createdArray = [];\n    for (const c of this.created) {\n      createdArray.push(c);\n    }\n    const promise = createdArray.reduce(\n      (prev, [adapter, model]) =>\n        prev.then(() => adapter.destroy(model, model.constructor)),\n      Promise.resolve()\n    );\n    this.created.clear();\n    this.resetSeq();\n    return promise;\n  }\n\n  setAdapter(adapter, factoryNames = null) {\n    if (!factoryNames) {\n      this.defaultAdapter = adapter;\n    } else {\n      factoryNames = Array.isArray(factoryNames) ? factoryNames : [factoryNames];\n      factoryNames.forEach(name => {\n        this.adapters[name] = adapter;\n      });\n    }\n    return adapter;\n  }\n}\n\nexport function generatorThunk(factoryGirl, SomeGenerator) {\n  const generator = new SomeGenerator(factoryGirl);\n  return (...args) => () => generator.generate(...args);\n}\n\nfunction deprecate(method, see) {\n  return () => {\n    throw new Error(`The ${method} method has been deprecated, use ${see} instead`);\n  };\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ObjectAdapter extends DefaultAdapter {\n  build(Model, props) {\n    const model = new Model;\n    this.set(props, model, Model);\n    return model;\n  }\n  async save(model, Model) {\n    return model;\n  }\n  async destroy(model, Model) {\n    return model;\n  }\n  get(model, attr, Model) {\n    return model[attr];\n  }\n  set(props, model, Model) {\n    return Object.assign(model, props);\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class BookshelfAdapter extends DefaultAdapter {\n  save(doc, Model) {\n    return doc.save(null, { method: 'insert' });\n  }\n}\n\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class MongooseAdapter extends DefaultAdapter {\n  async destroy(model, Model) {\n    return model.deleteOne();\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class SequelizeAdapter extends DefaultAdapter {\n  build(Model, props) {\n    return Model.build(props);\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ReduxORMAdapter extends DefaultAdapter {\n  constructor(session) {\n    super();\n    this.session = session;\n  }\n\n  build(modelName, props) {\n    return this.session[modelName].create(props);\n  }\n\n  get(model, attr) {\n    return model[attr];\n  }\n\n  async save(model, Model) {\n    return model;\n  }\n\n  async destroy(model, Model) {\n    return Promise.resolve(model.delete()).then(() => true);\n  }\n}\n",
+		"import FactoryGirl from './FactoryGirl';\n\nexport ObjectAdapter from './adapters/ObjectAdapter';\nexport BookshelfAdapter from './adapters/BookshelfAdapter';\nexport DefaultAdapter from './adapters/DefaultAdapter';\nexport MongooseAdapter from './adapters/MongooseAdapter';\nexport SequelizeAdapter from './adapters/SequelizeAdapter';\nexport ReduxORMAdapter from './adapters/ReduxORMAdapter';\n\nconst factory = new FactoryGirl();\nfactory.FactoryGirl = FactoryGirl;\n\nexport { factory };\n\nexport default factory;\n"
+	],
+	"names": [
+		"asyncPopulate",
+		"target",
+		"source",
+		"reject",
+		"Error",
+		"promises",
+		"map",
+		"promise",
+		"Array",
+		"isArray",
+		"attr",
+		"undefined",
+		"isPlainObject",
+		"resolve",
+		"then",
+		"v",
+		"all",
+		"objectProto",
+		"o",
+		"Factory",
+		"Model",
+		"initializer",
+		"options",
+		"name",
+		"buildOptions",
+		"attrs",
+		"extraAttrs",
+		"getFactoryAttrs",
+		"factoryAttrs",
+		"reduce",
+		"hasOwnProperty",
+		"modelAttrs",
+		"filteredAttrs",
+		"adapter",
+		"build",
+		"afterBuild",
+		"model",
+		"save",
+		"afterCreate",
+		"savedModel",
+		"num",
+		"attrsArray",
+		"buildOptionsArray",
+		"attrObject",
+		"buildOptionsObject",
+		"length",
+		"models",
+		"i",
+		"buildCallbacks",
+		"attrsMany",
+		"builtModels",
+		"builtModel",
+		"buildMany",
+		"savedModels",
+		"createdModels",
+		"createdModel",
+		"Generator",
+		"factoryGirl",
+		"key",
+		"getAdapter",
+		"get",
+		"Sequence",
+		"id",
+		"callback",
+		"generateId",
+		"sequences",
+		"next",
+		"Assoc",
+		"create",
+		"getAttribute",
+		"AssocAttrs",
+		"AssocMany",
+		"createMany",
+		"AssocAttrsMany",
+		"chance",
+		"Chance",
+		"ChanceGenerator",
+		"chanceMethod",
+		"OneOf",
+		"possibleValues",
+		"Math",
+		"floor",
+		"random",
+		"size",
+		"randomIndex",
+		"value",
+		"DefaultAdapter",
+		"props",
+		"destroy",
+		"set",
+		"FactoryGirl",
+		"factories",
+		"adapters",
+		"created",
+		"assoc",
+		"generatorThunk",
+		"assocMany",
+		"assocBuild",
+		"deprecate",
+		"assocBuildMany",
+		"assocAttrs",
+		"assocAttrsMany",
+		"seq",
+		"sequence",
+		"resetSeq",
+		"resetSequence",
+		"reset",
+		"oneOf",
+		"defaultAdapter",
+		"getFactory",
+		"factory",
+		"parent",
+		"childInitializer",
+		"parentFactory",
+		"jointInitializer",
+		"resolveInitializer",
+		"addToCreatedList",
+		"throwError",
+		"merge",
+		"add",
+		"createdArray",
+		"c",
+		"push",
+		"prev",
+		"constructor",
+		"clear",
+		"factoryNames",
+		"forEach",
+		"SomeGenerator",
+		"generator",
+		"args",
+		"generate",
+		"method",
+		"see",
+		"ObjectAdapter",
+		"BookshelfAdapter",
+		"doc",
+		"MongooseAdapter",
+		"remove",
+		"SequelizeAdapter",
+		"ReduxORMAdapter",
+		"session",
+		"modelName",
+		"delete"
+	],
+	"mappings": "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"
+}
\ No newline at end of file
diff --git a/index.js b/index.js
index 647b56dfb3d707592f71c4b76edcaa4e9c9558f7..cb810ff0d147ce5ee0ba1eaeead2932f99fec8d1 100644
--- a/index.js
+++ b/index.js
@@ -1279,7 +1279,7 @@ var MongooseAdapter = function (_DefaultAdapter) {
           while (1) {
             switch (_context.prev = _context.next) {
               case 0:
-                return _context.abrupt('return', model.remove());
+                return _context.abrupt('return', model.deleteOne());
 
               case 1:
               case 'end':
diff --git a/index.js.map b/index.js.map
index 2f5a6cc2c9c7dae2e002a6060ab65af816187442..d780ec2913068c938e879a7a3631bfbebd8f0f42 100644
--- a/index.js.map
+++ b/index.js.map
@@ -1 +1,191 @@
-{"version":3,"file":"index.js","sources":["../src/utils/asyncPopulate.js","../src/Factory.js","../src/generators/Generator.js","../src/generators/Sequence.js","../src/generators/Assoc.js","../src/generators/AssocAttrs.js","../src/generators/AssocMany.js","../src/generators/AssocAttrsMany.js","../src/generators/ChanceGenerator.js","../src/generators/OneOf.js","../src/adapters/DefaultAdapter.js","../src/FactoryGirl.js","../src/adapters/ObjectAdapter.js","../src/adapters/BookshelfAdapter.js","../src/adapters/MongooseAdapter.js","../src/adapters/SequelizeAdapter.js","../src/adapters/ReduxORMAdapter.js","../src/index.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nexport default function asyncPopulate(target, source) {\n  if (typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n  if (typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = Object.keys(source).map(attr => {\n    let promise;\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (source[attr] === null || source[attr] === undefined) {\n      target[attr] = source[attr];\n    } else if (isPlainObject(source[attr])) {\n      target[attr] = target[attr] || {};\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (typeof source[attr] === 'function') {\n      promise = Promise.resolve(source[attr]()).then(v => { target[attr] = v; });\n    } else {\n      promise = Promise.resolve(source[attr]).then(v => { target[attr] = v; });\n    }\n    return promise;\n  });\n  return Promise.all(promises);\n}\n/* eslint-enable no-underscore-dangle */\n\nconst objectProto = Object.getPrototypeOf({});\nfunction isPlainObject(o) {\n  return Object.getPrototypeOf(o) === objectProto;\n}\n","import asyncPopulate from './utils/asyncPopulate';\n\nexport default class Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = {};\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model) {\n      throw new Error('Invalid Model constructor passed to the factory');\n    }\n    if ((typeof initializer !== 'object' && typeof initializer !== 'function') ||\n        !initializer) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = { ...this.options, ...options };\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs;\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = { ...this.initializer };\n    }\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(extraAttrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    const filteredAttrs = Object.keys(factoryAttrs).reduce((attrs, name) => {\n      if (!extraAttrs.hasOwnProperty(name)) attrs[name] = factoryAttrs[name];\n      return attrs;\n    }, {});\n\n    await asyncPopulate(modelAttrs, filteredAttrs);\n    await asyncPopulate(modelAttrs, extraAttrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, extraAttrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(extraAttrs, buildOptions);\n    const model = adapter.build(this.Model, modelAttrs);\n    return this.options.afterBuild ?\n        this.options.afterBuild(model, extraAttrs, buildOptions) :\n        model;\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(model, this.Model)\n      .then(savedModel => (this.options.afterCreate ?\n          this.options.afterCreate(savedModel, attrs, buildOptions) :\n          savedModel\n      ));\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n    if (typeof buildOptionsArray === 'object' && !Array.isArray(buildOptionsArray)) {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n    attrsArray.length = buildOptionsArray.length = num;\n    const models = [];\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = [],\n      buildCallbacks = true) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map(attr => adapter.build(this.Model, attr));\n    return Promise.all(models)\n      .then(builtModels => (this.options.afterBuild && buildCallbacks ?\n          Promise.all(builtModels.map(builtModel => this.options.afterBuild(\n            builtModel, attrsArray, buildOptionsArray\n          ))) :\n          builtModels\n      ));\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    if (Array.isArray(num)) {\n      buildOptionsArray = attrsArray;\n      attrsArray = num;\n      num = attrsArray.length;\n    }\n    const models = await this.buildMany(\n      adapter, num, attrsArray, buildOptionsArray\n    );\n    const savedModels = models.map(model => adapter.save(model, this.Model));\n    return Promise.all(savedModels)\n      .then(createdModels => (this.options.afterCreate ?\n          Promise.all(createdModels.map(createdModel => this.options.afterCreate(\n            createdModel, attrsArray, buildOptionsArray\n          ))) :\n          createdModels\n      ));\n  }\n}\n","\nexport default class Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance provided');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n\n  getAttribute(name, model, key) {\n    return this.factoryGirl.getAdapter(name).get(model, key);\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class Sequence extends Generator {\n  static sequences = {};\n\n  static reset(id = null) {\n    if (!id) {\n      Sequence.sequences = {};\n    } else {\n      Sequence.sequences[id] = undefined;\n    }\n  }\n\n  generate(id = null, callback = null) {\n    if (typeof id === 'function') {\n      callback = id;\n      id = null;\n    }\n    id = id || this.id || (this.id = generateId());\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    const next = Sequence.sequences[id]++;\n    return callback ? callback(next) : next;\n  }\n}\n\nfunction generateId() {\n  let id;\n  let i = 0;\n  do {\n    id = `_${i++}`;\n  } while (id in Sequence.sequences);\n  return id;\n}\n","\nimport Generator from './Generator';\n\nexport default class Assoc extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.create(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class AssocAttrs extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.attrs(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class AssocMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    const models = await this.factoryGirl.createMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n","\n\nimport Generator from './Generator';\n\nexport default class AssocAttrsMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested');\n    }\n    const models = await this.factoryGirl.attrsMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n","\nimport Generator from './Generator';\nimport Chance from 'chance';\n\nconst chance = new Chance();\n\nexport default class ChanceGenerator extends Generator {\n  generate(chanceMethod, ...options) {\n    if (typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n    return chance[chanceMethod](...options);\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class OneOf extends Generator {\n  async generate(possibleValues) {\n    if (!Array.isArray(possibleValues)) {\n      throw new Error('Expected an array of possible values');\n    }\n\n    if (possibleValues.length < 1) {\n      throw new Error('Empty array passed for possible values');\n    }\n\n    const size = possibleValues.length;\n    const randomIndex = Math.floor(Math.random() * size);\n    const value = possibleValues[randomIndex];\n    return (typeof value === 'function') ? value() : value;\n  }\n}\n","/* eslint-disable no-unused-vars */\nexport default class DefaultAdapter {\n  build(Model, props) {\n    return new Model(props);\n  }\n  async save(model, Model) {\n    return Promise.resolve(model.save()).then(() => model);\n  }\n  async destroy(model, Model) {\n    return Promise.resolve(model.destroy()).then(() => model);\n  }\n  get(model, attr, Model) {\n    return model.get(attr);\n  }\n  set(props, model, Model) {\n    return model.set(props);\n  }\n}\n","import Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport OneOf from './generators/OneOf';\nimport DefaultAdapter from './adapters/DefaultAdapter';\n\nexport default class FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options = {}) {\n    this.assoc = generatorThunk(this, Assoc);\n    this.assocMany = generatorThunk(this, AssocMany);\n    this.assocBuild = deprecate('assocBuild', 'assocAttrs');\n    this.assocBuildMany = deprecate('assocBuildMany', 'assocAttrsMany');\n    this.assocAttrs = generatorThunk(this, AssocAttrs);\n    this.assocAttrsMany = generatorThunk(this, AssocAttrsMany);\n    this.seq = this.sequence =\n      (...args) => generatorThunk(this, Sequence)(...args);\n    this.resetSeq = this.resetSequence = id => { Sequence.reset(id); };\n    this.chance = generatorThunk(this, ChanceGenerator);\n    this.oneOf = generatorThunk(this, OneOf);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const factory = this.factories[name] = new Factory(Model, initializer, options);\n    return factory;\n  }\n\n  extend(parent, name, childInitializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const parentFactory = this.getFactory(parent, true);\n    const Model = options.model || parentFactory.Model;\n    let jointInitializer;\n\n    function resolveInitializer(initializer, buildOptions) {\n      return typeof initializer === 'function' ? initializer(buildOptions) : initializer;\n    }\n\n    if (\n      typeof parentFactory.initializer === 'function' ||\n      typeof childInitializer === 'function'\n    ) {\n      jointInitializer = function initializer(buildOptions = {}) {\n        return Object.assign(\n          {},\n          resolveInitializer(parentFactory.initializer, buildOptions),\n          resolveInitializer(childInitializer, buildOptions)\n        );\n      };\n    } else {\n      jointInitializer = Object.assign({}, parentFactory.initializer, childInitializer);\n    }\n\n    const factory = this.factories[name] = new Factory(Model, jointInitializer, options);\n    return factory;\n  }\n\n  async attrs(name, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  async build(name, attrs = {}, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .build(adapter, attrs, buildOptions)\n      .then(model => (this.options.afterBuild ?\n          this.options.afterBuild(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  async create(name, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .create(adapter, attrs, buildOptions)\n      .then(createdModel => this.addToCreatedList(adapter, createdModel))\n      .then(model => (this.options.afterCreate ?\n          this.options.afterCreate(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  attrsMany(name, num, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  async buildMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .buildMany(adapter, num, attrs, buildOptions)\n      .then(models => (this.options.afterBuild ?\n          Promise.all(models.map(\n            model => this.options.afterBuild(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  async createMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .createMany(adapter, num, attrs, buildOptions)\n      .then(models => this.addToCreatedList(adapter, models))\n      .then(models => (this.options.afterCreate ?\n          Promise.all(models.map(\n            model => this.options.afterCreate(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  getFactory(name, throwError = true) {\n    if (!this.factories[name] && throwError) {\n      throw new Error(`Invalid factory '${name}' requested`);\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? { ...this.options, ...options } : options;\n  }\n\n  getAdapter(factory) {\n    return factory ?\n      (this.adapters[factory] || this.defaultAdapter) :\n      this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if (!Array.isArray(models)) {\n      this.created.add([adapter, models]);\n    } else {\n      for (const model of models) {\n        this.created.add([adapter, model]);\n      }\n    }\n    return models;\n  }\n\n  cleanUp() {\n    const createdArray = [];\n    for (const c of this.created) {\n      createdArray.push(c);\n    }\n    const promise = createdArray.reduce(\n      (prev, [adapter, model]) =>\n        prev.then(() => adapter.destroy(model, model.constructor)),\n      Promise.resolve()\n    );\n    this.created.clear();\n    this.resetSeq();\n    return promise;\n  }\n\n  setAdapter(adapter, factoryNames = null) {\n    if (!factoryNames) {\n      this.defaultAdapter = adapter;\n    } else {\n      factoryNames = Array.isArray(factoryNames) ? factoryNames : [factoryNames];\n      factoryNames.forEach(name => {\n        this.adapters[name] = adapter;\n      });\n    }\n    return adapter;\n  }\n}\n\nexport function generatorThunk(factoryGirl, SomeGenerator) {\n  const generator = new SomeGenerator(factoryGirl);\n  return (...args) => () => generator.generate(...args);\n}\n\nfunction deprecate(method, see) {\n  return () => {\n    throw new Error(`The ${method} method has been deprecated, use ${see} instead`);\n  };\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ObjectAdapter extends DefaultAdapter {\n  build(Model, props) {\n    const model = new Model;\n    this.set(props, model, Model);\n    return model;\n  }\n  async save(model, Model) {\n    return model;\n  }\n  async destroy(model, Model) {\n    return model;\n  }\n  get(model, attr, Model) {\n    return model[attr];\n  }\n  set(props, model, Model) {\n    return Object.assign(model, props);\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class BookshelfAdapter extends DefaultAdapter {\n  save(doc, Model) {\n    return doc.save(null, { method: 'insert' });\n  }\n}\n\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class MongooseAdapter extends DefaultAdapter {\n  async destroy(model, Model) {\n    return model.remove();\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class SequelizeAdapter extends DefaultAdapter {\n  build(Model, props) {\n    return Model.build(props);\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ReduxORMAdapter extends DefaultAdapter {\n  constructor(session) {\n    super();\n    this.session = session;\n  }\n\n  build(modelName, props) {\n    return this.session[modelName].create(props);\n  }\n\n  get(model, attr) {\n    return model[attr];\n  }\n\n  async save(model, Model) {\n    return model;\n  }\n\n  async destroy(model, Model) {\n    return Promise.resolve(model.delete()).then(() => true);\n  }\n}\n","import FactoryGirl from './FactoryGirl';\n\nexport ObjectAdapter from './adapters/ObjectAdapter';\nexport BookshelfAdapter from './adapters/BookshelfAdapter';\nexport DefaultAdapter from './adapters/DefaultAdapter';\nexport MongooseAdapter from './adapters/MongooseAdapter';\nexport SequelizeAdapter from './adapters/SequelizeAdapter';\nexport ReduxORMAdapter from './adapters/ReduxORMAdapter';\n\nconst factory = new FactoryGirl();\nfactory.FactoryGirl = FactoryGirl;\n\nexport { factory };\n\nexport default factory;\n"],"names":["asyncPopulate","target","source","reject","Error","promises","map","promise","Array","isArray","attr","undefined","isPlainObject","resolve","then","v","all","objectProto","o","Factory","Model","initializer","options","name","buildOptions","attrs","extraAttrs","getFactoryAttrs","factoryAttrs","reduce","hasOwnProperty","modelAttrs","filteredAttrs","adapter","build","afterBuild","model","save","afterCreate","savedModel","num","attrsArray","buildOptionsArray","attrObject","buildOptionsObject","length","models","i","buildCallbacks","attrsMany","builtModels","builtModel","buildMany","savedModels","createdModels","createdModel","Generator","factoryGirl","key","getAdapter","get","Sequence","id","callback","generateId","sequences","next","Assoc","create","getAttribute","AssocAttrs","AssocMany","createMany","AssocAttrsMany","chance","Chance","ChanceGenerator","chanceMethod","OneOf","possibleValues","Math","floor","random","size","randomIndex","value","DefaultAdapter","props","destroy","set","FactoryGirl","factories","adapters","created","assoc","generatorThunk","assocMany","assocBuild","deprecate","assocBuildMany","assocAttrs","assocAttrsMany","seq","sequence","resetSeq","resetSequence","reset","oneOf","defaultAdapter","getFactory","factory","parent","childInitializer","parentFactory","jointInitializer","resolveInitializer","addToCreatedList","throwError","merge","add","createdArray","c","push","prev","constructor","clear","factoryNames","forEach","SomeGenerator","generator","args","generate","method","see","ObjectAdapter","BookshelfAdapter","doc","MongooseAdapter","remove","SequelizeAdapter","ReduxORMAdapter","session","modelName","delete"],"mappings":"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"}
\ No newline at end of file
+{
+	"version": 3,
+	"file": "index.js",
+	"sources": [
+		"../src/utils/asyncPopulate.js",
+		"../src/Factory.js",
+		"../src/generators/Generator.js",
+		"../src/generators/Sequence.js",
+		"../src/generators/Assoc.js",
+		"../src/generators/AssocAttrs.js",
+		"../src/generators/AssocMany.js",
+		"../src/generators/AssocAttrsMany.js",
+		"../src/generators/ChanceGenerator.js",
+		"../src/generators/OneOf.js",
+		"../src/adapters/DefaultAdapter.js",
+		"../src/FactoryGirl.js",
+		"../src/adapters/ObjectAdapter.js",
+		"../src/adapters/BookshelfAdapter.js",
+		"../src/adapters/MongooseAdapter.js",
+		"../src/adapters/SequelizeAdapter.js",
+		"../src/adapters/ReduxORMAdapter.js",
+		"../src/index.js"
+	],
+	"sourcesContent": [
+		"/* eslint-disable no-underscore-dangle */\nexport default function asyncPopulate(target, source) {\n  if (typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n  if (typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = Object.keys(source).map(attr => {\n    let promise;\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (source[attr] === null || source[attr] === undefined) {\n      target[attr] = source[attr];\n    } else if (isPlainObject(source[attr])) {\n      target[attr] = target[attr] || {};\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (typeof source[attr] === 'function') {\n      promise = Promise.resolve(source[attr]()).then(v => { target[attr] = v; });\n    } else {\n      promise = Promise.resolve(source[attr]).then(v => { target[attr] = v; });\n    }\n    return promise;\n  });\n  return Promise.all(promises);\n}\n/* eslint-enable no-underscore-dangle */\n\nconst objectProto = Object.getPrototypeOf({});\nfunction isPlainObject(o) {\n  return Object.getPrototypeOf(o) === objectProto;\n}\n",
+		"import asyncPopulate from './utils/asyncPopulate';\n\nexport default class Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = {};\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model) {\n      throw new Error('Invalid Model constructor passed to the factory');\n    }\n    if ((typeof initializer !== 'object' && typeof initializer !== 'function') ||\n        !initializer) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = { ...this.options, ...options };\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs;\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = { ...this.initializer };\n    }\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(extraAttrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    const filteredAttrs = Object.keys(factoryAttrs).reduce((attrs, name) => {\n      if (!extraAttrs.hasOwnProperty(name)) attrs[name] = factoryAttrs[name];\n      return attrs;\n    }, {});\n\n    await asyncPopulate(modelAttrs, filteredAttrs);\n    await asyncPopulate(modelAttrs, extraAttrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, extraAttrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(extraAttrs, buildOptions);\n    const model = adapter.build(this.Model, modelAttrs);\n    return this.options.afterBuild ?\n        this.options.afterBuild(model, extraAttrs, buildOptions) :\n        model;\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(model, this.Model)\n      .then(savedModel => (this.options.afterCreate ?\n          this.options.afterCreate(savedModel, attrs, buildOptions) :\n          savedModel\n      ));\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n    if (typeof buildOptionsArray === 'object' && !Array.isArray(buildOptionsArray)) {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n    attrsArray.length = buildOptionsArray.length = num;\n    const models = [];\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = [],\n      buildCallbacks = true) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map(attr => adapter.build(this.Model, attr));\n    return Promise.all(models)\n      .then(builtModels => (this.options.afterBuild && buildCallbacks ?\n          Promise.all(builtModels.map(builtModel => this.options.afterBuild(\n            builtModel, attrsArray, buildOptionsArray\n          ))) :\n          builtModels\n      ));\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    if (Array.isArray(num)) {\n      buildOptionsArray = attrsArray;\n      attrsArray = num;\n      num = attrsArray.length;\n    }\n    const models = await this.buildMany(\n      adapter, num, attrsArray, buildOptionsArray\n    );\n    const savedModels = models.map(model => adapter.save(model, this.Model));\n    return Promise.all(savedModels)\n      .then(createdModels => (this.options.afterCreate ?\n          Promise.all(createdModels.map(createdModel => this.options.afterCreate(\n            createdModel, attrsArray, buildOptionsArray\n          ))) :\n          createdModels\n      ));\n  }\n}\n",
+		"\nexport default class Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance provided');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n\n  getAttribute(name, model, key) {\n    return this.factoryGirl.getAdapter(name).get(model, key);\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class Sequence extends Generator {\n  static sequences = {};\n\n  static reset(id = null) {\n    if (!id) {\n      Sequence.sequences = {};\n    } else {\n      Sequence.sequences[id] = undefined;\n    }\n  }\n\n  generate(id = null, callback = null) {\n    if (typeof id === 'function') {\n      callback = id;\n      id = null;\n    }\n    id = id || this.id || (this.id = generateId());\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    const next = Sequence.sequences[id]++;\n    return callback ? callback(next) : next;\n  }\n}\n\nfunction generateId() {\n  let id;\n  let i = 0;\n  do {\n    id = `_${i++}`;\n  } while (id in Sequence.sequences);\n  return id;\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class Assoc extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.create(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class AssocAttrs extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.attrs(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class AssocMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    const models = await this.factoryGirl.createMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n",
+		"\n\nimport Generator from './Generator';\n\nexport default class AssocAttrsMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested');\n    }\n    const models = await this.factoryGirl.attrsMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n",
+		"\nimport Generator from './Generator';\nimport Chance from 'chance';\n\nconst chance = new Chance();\n\nexport default class ChanceGenerator extends Generator {\n  generate(chanceMethod, ...options) {\n    if (typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n    return chance[chanceMethod](...options);\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class OneOf extends Generator {\n  async generate(possibleValues) {\n    if (!Array.isArray(possibleValues)) {\n      throw new Error('Expected an array of possible values');\n    }\n\n    if (possibleValues.length < 1) {\n      throw new Error('Empty array passed for possible values');\n    }\n\n    const size = possibleValues.length;\n    const randomIndex = Math.floor(Math.random() * size);\n    const value = possibleValues[randomIndex];\n    return (typeof value === 'function') ? value() : value;\n  }\n}\n",
+		"/* eslint-disable no-unused-vars */\nexport default class DefaultAdapter {\n  build(Model, props) {\n    return new Model(props);\n  }\n  async save(model, Model) {\n    return Promise.resolve(model.save()).then(() => model);\n  }\n  async destroy(model, Model) {\n    return Promise.resolve(model.destroy()).then(() => model);\n  }\n  get(model, attr, Model) {\n    return model.get(attr);\n  }\n  set(props, model, Model) {\n    return model.set(props);\n  }\n}\n",
+		"import Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport OneOf from './generators/OneOf';\nimport DefaultAdapter from './adapters/DefaultAdapter';\n\nexport default class FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options = {}) {\n    this.assoc = generatorThunk(this, Assoc);\n    this.assocMany = generatorThunk(this, AssocMany);\n    this.assocBuild = deprecate('assocBuild', 'assocAttrs');\n    this.assocBuildMany = deprecate('assocBuildMany', 'assocAttrsMany');\n    this.assocAttrs = generatorThunk(this, AssocAttrs);\n    this.assocAttrsMany = generatorThunk(this, AssocAttrsMany);\n    this.seq = this.sequence =\n      (...args) => generatorThunk(this, Sequence)(...args);\n    this.resetSeq = this.resetSequence = id => { Sequence.reset(id); };\n    this.chance = generatorThunk(this, ChanceGenerator);\n    this.oneOf = generatorThunk(this, OneOf);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const factory = this.factories[name] = new Factory(Model, initializer, options);\n    return factory;\n  }\n\n  extend(parent, name, childInitializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const parentFactory = this.getFactory(parent, true);\n    const Model = options.model || parentFactory.Model;\n    let jointInitializer;\n\n    function resolveInitializer(initializer, buildOptions) {\n      return typeof initializer === 'function' ? initializer(buildOptions) : initializer;\n    }\n\n    if (\n      typeof parentFactory.initializer === 'function' ||\n      typeof childInitializer === 'function'\n    ) {\n      jointInitializer = function initializer(buildOptions = {}) {\n        return Object.assign(\n          {},\n          resolveInitializer(parentFactory.initializer, buildOptions),\n          resolveInitializer(childInitializer, buildOptions)\n        );\n      };\n    } else {\n      jointInitializer = Object.assign({}, parentFactory.initializer, childInitializer);\n    }\n\n    const factory = this.factories[name] = new Factory(Model, jointInitializer, options);\n    return factory;\n  }\n\n  async attrs(name, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  async build(name, attrs = {}, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .build(adapter, attrs, buildOptions)\n      .then(model => (this.options.afterBuild ?\n          this.options.afterBuild(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  async create(name, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .create(adapter, attrs, buildOptions)\n      .then(createdModel => this.addToCreatedList(adapter, createdModel))\n      .then(model => (this.options.afterCreate ?\n          this.options.afterCreate(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  attrsMany(name, num, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  async buildMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .buildMany(adapter, num, attrs, buildOptions)\n      .then(models => (this.options.afterBuild ?\n          Promise.all(models.map(\n            model => this.options.afterBuild(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  async createMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .createMany(adapter, num, attrs, buildOptions)\n      .then(models => this.addToCreatedList(adapter, models))\n      .then(models => (this.options.afterCreate ?\n          Promise.all(models.map(\n            model => this.options.afterCreate(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  getFactory(name, throwError = true) {\n    if (!this.factories[name] && throwError) {\n      throw new Error(`Invalid factory '${name}' requested`);\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? { ...this.options, ...options } : options;\n  }\n\n  getAdapter(factory) {\n    return factory ?\n      (this.adapters[factory] || this.defaultAdapter) :\n      this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if (!Array.isArray(models)) {\n      this.created.add([adapter, models]);\n    } else {\n      for (const model of models) {\n        this.created.add([adapter, model]);\n      }\n    }\n    return models;\n  }\n\n  cleanUp() {\n    const createdArray = [];\n    for (const c of this.created) {\n      createdArray.push(c);\n    }\n    const promise = createdArray.reduce(\n      (prev, [adapter, model]) =>\n        prev.then(() => adapter.destroy(model, model.constructor)),\n      Promise.resolve()\n    );\n    this.created.clear();\n    this.resetSeq();\n    return promise;\n  }\n\n  setAdapter(adapter, factoryNames = null) {\n    if (!factoryNames) {\n      this.defaultAdapter = adapter;\n    } else {\n      factoryNames = Array.isArray(factoryNames) ? factoryNames : [factoryNames];\n      factoryNames.forEach(name => {\n        this.adapters[name] = adapter;\n      });\n    }\n    return adapter;\n  }\n}\n\nexport function generatorThunk(factoryGirl, SomeGenerator) {\n  const generator = new SomeGenerator(factoryGirl);\n  return (...args) => () => generator.generate(...args);\n}\n\nfunction deprecate(method, see) {\n  return () => {\n    throw new Error(`The ${method} method has been deprecated, use ${see} instead`);\n  };\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ObjectAdapter extends DefaultAdapter {\n  build(Model, props) {\n    const model = new Model;\n    this.set(props, model, Model);\n    return model;\n  }\n  async save(model, Model) {\n    return model;\n  }\n  async destroy(model, Model) {\n    return model;\n  }\n  get(model, attr, Model) {\n    return model[attr];\n  }\n  set(props, model, Model) {\n    return Object.assign(model, props);\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class BookshelfAdapter extends DefaultAdapter {\n  save(doc, Model) {\n    return doc.save(null, { method: 'insert' });\n  }\n}\n\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class MongooseAdapter extends DefaultAdapter {\n  async destroy(model, Model) {\n    return model.deleteOne();\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class SequelizeAdapter extends DefaultAdapter {\n  build(Model, props) {\n    return Model.build(props);\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ReduxORMAdapter extends DefaultAdapter {\n  constructor(session) {\n    super();\n    this.session = session;\n  }\n\n  build(modelName, props) {\n    return this.session[modelName].create(props);\n  }\n\n  get(model, attr) {\n    return model[attr];\n  }\n\n  async save(model, Model) {\n    return model;\n  }\n\n  async destroy(model, Model) {\n    return Promise.resolve(model.delete()).then(() => true);\n  }\n}\n",
+		"import FactoryGirl from './FactoryGirl';\n\nexport ObjectAdapter from './adapters/ObjectAdapter';\nexport BookshelfAdapter from './adapters/BookshelfAdapter';\nexport DefaultAdapter from './adapters/DefaultAdapter';\nexport MongooseAdapter from './adapters/MongooseAdapter';\nexport SequelizeAdapter from './adapters/SequelizeAdapter';\nexport ReduxORMAdapter from './adapters/ReduxORMAdapter';\n\nconst factory = new FactoryGirl();\nfactory.FactoryGirl = FactoryGirl;\n\nexport { factory };\n\nexport default factory;\n"
+	],
+	"names": [
+		"asyncPopulate",
+		"target",
+		"source",
+		"reject",
+		"Error",
+		"promises",
+		"map",
+		"promise",
+		"Array",
+		"isArray",
+		"attr",
+		"undefined",
+		"isPlainObject",
+		"resolve",
+		"then",
+		"v",
+		"all",
+		"objectProto",
+		"o",
+		"Factory",
+		"Model",
+		"initializer",
+		"options",
+		"name",
+		"buildOptions",
+		"attrs",
+		"extraAttrs",
+		"getFactoryAttrs",
+		"factoryAttrs",
+		"reduce",
+		"hasOwnProperty",
+		"modelAttrs",
+		"filteredAttrs",
+		"adapter",
+		"build",
+		"afterBuild",
+		"model",
+		"save",
+		"afterCreate",
+		"savedModel",
+		"num",
+		"attrsArray",
+		"buildOptionsArray",
+		"attrObject",
+		"buildOptionsObject",
+		"length",
+		"models",
+		"i",
+		"buildCallbacks",
+		"attrsMany",
+		"builtModels",
+		"builtModel",
+		"buildMany",
+		"savedModels",
+		"createdModels",
+		"createdModel",
+		"Generator",
+		"factoryGirl",
+		"key",
+		"getAdapter",
+		"get",
+		"Sequence",
+		"id",
+		"callback",
+		"generateId",
+		"sequences",
+		"next",
+		"Assoc",
+		"create",
+		"getAttribute",
+		"AssocAttrs",
+		"AssocMany",
+		"createMany",
+		"AssocAttrsMany",
+		"chance",
+		"Chance",
+		"ChanceGenerator",
+		"chanceMethod",
+		"OneOf",
+		"possibleValues",
+		"Math",
+		"floor",
+		"random",
+		"size",
+		"randomIndex",
+		"value",
+		"DefaultAdapter",
+		"props",
+		"destroy",
+		"set",
+		"FactoryGirl",
+		"factories",
+		"adapters",
+		"created",
+		"assoc",
+		"generatorThunk",
+		"assocMany",
+		"assocBuild",
+		"deprecate",
+		"assocBuildMany",
+		"assocAttrs",
+		"assocAttrsMany",
+		"seq",
+		"sequence",
+		"resetSeq",
+		"resetSequence",
+		"reset",
+		"oneOf",
+		"defaultAdapter",
+		"getFactory",
+		"factory",
+		"parent",
+		"childInitializer",
+		"parentFactory",
+		"jointInitializer",
+		"resolveInitializer",
+		"addToCreatedList",
+		"throwError",
+		"merge",
+		"add",
+		"createdArray",
+		"c",
+		"push",
+		"prev",
+		"constructor",
+		"clear",
+		"factoryNames",
+		"forEach",
+		"SomeGenerator",
+		"generator",
+		"args",
+		"generate",
+		"method",
+		"see",
+		"ObjectAdapter",
+		"BookshelfAdapter",
+		"doc",
+		"MongooseAdapter",
+		"remove",
+		"SequelizeAdapter",
+		"ReduxORMAdapter",
+		"session",
+		"modelName",
+		"delete"
+	],
+	"mappings": "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"
+}
\ No newline at end of file
diff --git a/index.umd.js b/index.umd.js
index 3623852be788e56600e494b779e3fe73ff08fc46..4a15ae3338ba2638e4b7f637efa740337964fc37 100644
--- a/index.umd.js
+++ b/index.umd.js
@@ -1279,7 +1279,7 @@
             while (1) {
               switch (_context.prev = _context.next) {
                 case 0:
-                  return _context.abrupt('return', model.remove());
+                  return _context.abrupt('return', model.deleteOne());
 
                 case 1:
                 case 'end':
diff --git a/index.umd.js.map b/index.umd.js.map
index 2d3727638cc9ca7acb49e334c4333b3ca26c45e7..07d7b55e886c150c540019707748c1f6cdf9e897 100644
--- a/index.umd.js.map
+++ b/index.umd.js.map
@@ -1 +1,191 @@
-{"version":3,"file":"index.umd.js","sources":["../src/utils/asyncPopulate.js","../src/Factory.js","../src/generators/Generator.js","../src/generators/Sequence.js","../src/generators/Assoc.js","../src/generators/AssocAttrs.js","../src/generators/AssocMany.js","../src/generators/AssocAttrsMany.js","../src/generators/ChanceGenerator.js","../src/generators/OneOf.js","../src/adapters/DefaultAdapter.js","../src/FactoryGirl.js","../src/adapters/ObjectAdapter.js","../src/adapters/BookshelfAdapter.js","../src/adapters/MongooseAdapter.js","../src/adapters/SequelizeAdapter.js","../src/adapters/ReduxORMAdapter.js","../src/index.js"],"sourcesContent":["/* eslint-disable no-underscore-dangle */\nexport default function asyncPopulate(target, source) {\n  if (typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n  if (typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = Object.keys(source).map(attr => {\n    let promise;\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (source[attr] === null || source[attr] === undefined) {\n      target[attr] = source[attr];\n    } else if (isPlainObject(source[attr])) {\n      target[attr] = target[attr] || {};\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (typeof source[attr] === 'function') {\n      promise = Promise.resolve(source[attr]()).then(v => { target[attr] = v; });\n    } else {\n      promise = Promise.resolve(source[attr]).then(v => { target[attr] = v; });\n    }\n    return promise;\n  });\n  return Promise.all(promises);\n}\n/* eslint-enable no-underscore-dangle */\n\nconst objectProto = Object.getPrototypeOf({});\nfunction isPlainObject(o) {\n  return Object.getPrototypeOf(o) === objectProto;\n}\n","import asyncPopulate from './utils/asyncPopulate';\n\nexport default class Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = {};\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model) {\n      throw new Error('Invalid Model constructor passed to the factory');\n    }\n    if ((typeof initializer !== 'object' && typeof initializer !== 'function') ||\n        !initializer) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = { ...this.options, ...options };\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs;\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = { ...this.initializer };\n    }\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(extraAttrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    const filteredAttrs = Object.keys(factoryAttrs).reduce((attrs, name) => {\n      if (!extraAttrs.hasOwnProperty(name)) attrs[name] = factoryAttrs[name];\n      return attrs;\n    }, {});\n\n    await asyncPopulate(modelAttrs, filteredAttrs);\n    await asyncPopulate(modelAttrs, extraAttrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, extraAttrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(extraAttrs, buildOptions);\n    const model = adapter.build(this.Model, modelAttrs);\n    return this.options.afterBuild ?\n        this.options.afterBuild(model, extraAttrs, buildOptions) :\n        model;\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(model, this.Model)\n      .then(savedModel => (this.options.afterCreate ?\n          this.options.afterCreate(savedModel, attrs, buildOptions) :\n          savedModel\n      ));\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n    if (typeof buildOptionsArray === 'object' && !Array.isArray(buildOptionsArray)) {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n    attrsArray.length = buildOptionsArray.length = num;\n    const models = [];\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = [],\n      buildCallbacks = true) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map(attr => adapter.build(this.Model, attr));\n    return Promise.all(models)\n      .then(builtModels => (this.options.afterBuild && buildCallbacks ?\n          Promise.all(builtModels.map(builtModel => this.options.afterBuild(\n            builtModel, attrsArray, buildOptionsArray\n          ))) :\n          builtModels\n      ));\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    if (Array.isArray(num)) {\n      buildOptionsArray = attrsArray;\n      attrsArray = num;\n      num = attrsArray.length;\n    }\n    const models = await this.buildMany(\n      adapter, num, attrsArray, buildOptionsArray\n    );\n    const savedModels = models.map(model => adapter.save(model, this.Model));\n    return Promise.all(savedModels)\n      .then(createdModels => (this.options.afterCreate ?\n          Promise.all(createdModels.map(createdModel => this.options.afterCreate(\n            createdModel, attrsArray, buildOptionsArray\n          ))) :\n          createdModels\n      ));\n  }\n}\n","\nexport default class Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance provided');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n\n  getAttribute(name, model, key) {\n    return this.factoryGirl.getAdapter(name).get(model, key);\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class Sequence extends Generator {\n  static sequences = {};\n\n  static reset(id = null) {\n    if (!id) {\n      Sequence.sequences = {};\n    } else {\n      Sequence.sequences[id] = undefined;\n    }\n  }\n\n  generate(id = null, callback = null) {\n    if (typeof id === 'function') {\n      callback = id;\n      id = null;\n    }\n    id = id || this.id || (this.id = generateId());\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    const next = Sequence.sequences[id]++;\n    return callback ? callback(next) : next;\n  }\n}\n\nfunction generateId() {\n  let id;\n  let i = 0;\n  do {\n    id = `_${i++}`;\n  } while (id in Sequence.sequences);\n  return id;\n}\n","\nimport Generator from './Generator';\n\nexport default class Assoc extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.create(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class AssocAttrs extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.attrs(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class AssocMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    const models = await this.factoryGirl.createMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n","\n\nimport Generator from './Generator';\n\nexport default class AssocAttrsMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested');\n    }\n    const models = await this.factoryGirl.attrsMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n","\nimport Generator from './Generator';\nimport Chance from 'chance';\n\nconst chance = new Chance();\n\nexport default class ChanceGenerator extends Generator {\n  generate(chanceMethod, ...options) {\n    if (typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n    return chance[chanceMethod](...options);\n  }\n}\n","\nimport Generator from './Generator';\n\nexport default class OneOf extends Generator {\n  async generate(possibleValues) {\n    if (!Array.isArray(possibleValues)) {\n      throw new Error('Expected an array of possible values');\n    }\n\n    if (possibleValues.length < 1) {\n      throw new Error('Empty array passed for possible values');\n    }\n\n    const size = possibleValues.length;\n    const randomIndex = Math.floor(Math.random() * size);\n    const value = possibleValues[randomIndex];\n    return (typeof value === 'function') ? value() : value;\n  }\n}\n","/* eslint-disable no-unused-vars */\nexport default class DefaultAdapter {\n  build(Model, props) {\n    return new Model(props);\n  }\n  async save(model, Model) {\n    return Promise.resolve(model.save()).then(() => model);\n  }\n  async destroy(model, Model) {\n    return Promise.resolve(model.destroy()).then(() => model);\n  }\n  get(model, attr, Model) {\n    return model.get(attr);\n  }\n  set(props, model, Model) {\n    return model.set(props);\n  }\n}\n","import Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport OneOf from './generators/OneOf';\nimport DefaultAdapter from './adapters/DefaultAdapter';\n\nexport default class FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options = {}) {\n    this.assoc = generatorThunk(this, Assoc);\n    this.assocMany = generatorThunk(this, AssocMany);\n    this.assocBuild = deprecate('assocBuild', 'assocAttrs');\n    this.assocBuildMany = deprecate('assocBuildMany', 'assocAttrsMany');\n    this.assocAttrs = generatorThunk(this, AssocAttrs);\n    this.assocAttrsMany = generatorThunk(this, AssocAttrsMany);\n    this.seq = this.sequence =\n      (...args) => generatorThunk(this, Sequence)(...args);\n    this.resetSeq = this.resetSequence = id => { Sequence.reset(id); };\n    this.chance = generatorThunk(this, ChanceGenerator);\n    this.oneOf = generatorThunk(this, OneOf);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const factory = this.factories[name] = new Factory(Model, initializer, options);\n    return factory;\n  }\n\n  extend(parent, name, childInitializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const parentFactory = this.getFactory(parent, true);\n    const Model = options.model || parentFactory.Model;\n    let jointInitializer;\n\n    function resolveInitializer(initializer, buildOptions) {\n      return typeof initializer === 'function' ? initializer(buildOptions) : initializer;\n    }\n\n    if (\n      typeof parentFactory.initializer === 'function' ||\n      typeof childInitializer === 'function'\n    ) {\n      jointInitializer = function initializer(buildOptions = {}) {\n        return Object.assign(\n          {},\n          resolveInitializer(parentFactory.initializer, buildOptions),\n          resolveInitializer(childInitializer, buildOptions)\n        );\n      };\n    } else {\n      jointInitializer = Object.assign({}, parentFactory.initializer, childInitializer);\n    }\n\n    const factory = this.factories[name] = new Factory(Model, jointInitializer, options);\n    return factory;\n  }\n\n  async attrs(name, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  async build(name, attrs = {}, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .build(adapter, attrs, buildOptions)\n      .then(model => (this.options.afterBuild ?\n          this.options.afterBuild(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  async create(name, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .create(adapter, attrs, buildOptions)\n      .then(createdModel => this.addToCreatedList(adapter, createdModel))\n      .then(model => (this.options.afterCreate ?\n          this.options.afterCreate(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  attrsMany(name, num, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  async buildMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .buildMany(adapter, num, attrs, buildOptions)\n      .then(models => (this.options.afterBuild ?\n          Promise.all(models.map(\n            model => this.options.afterBuild(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  async createMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .createMany(adapter, num, attrs, buildOptions)\n      .then(models => this.addToCreatedList(adapter, models))\n      .then(models => (this.options.afterCreate ?\n          Promise.all(models.map(\n            model => this.options.afterCreate(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  getFactory(name, throwError = true) {\n    if (!this.factories[name] && throwError) {\n      throw new Error(`Invalid factory '${name}' requested`);\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? { ...this.options, ...options } : options;\n  }\n\n  getAdapter(factory) {\n    return factory ?\n      (this.adapters[factory] || this.defaultAdapter) :\n      this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if (!Array.isArray(models)) {\n      this.created.add([adapter, models]);\n    } else {\n      for (const model of models) {\n        this.created.add([adapter, model]);\n      }\n    }\n    return models;\n  }\n\n  cleanUp() {\n    const createdArray = [];\n    for (const c of this.created) {\n      createdArray.push(c);\n    }\n    const promise = createdArray.reduce(\n      (prev, [adapter, model]) =>\n        prev.then(() => adapter.destroy(model, model.constructor)),\n      Promise.resolve()\n    );\n    this.created.clear();\n    this.resetSeq();\n    return promise;\n  }\n\n  setAdapter(adapter, factoryNames = null) {\n    if (!factoryNames) {\n      this.defaultAdapter = adapter;\n    } else {\n      factoryNames = Array.isArray(factoryNames) ? factoryNames : [factoryNames];\n      factoryNames.forEach(name => {\n        this.adapters[name] = adapter;\n      });\n    }\n    return adapter;\n  }\n}\n\nexport function generatorThunk(factoryGirl, SomeGenerator) {\n  const generator = new SomeGenerator(factoryGirl);\n  return (...args) => () => generator.generate(...args);\n}\n\nfunction deprecate(method, see) {\n  return () => {\n    throw new Error(`The ${method} method has been deprecated, use ${see} instead`);\n  };\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ObjectAdapter extends DefaultAdapter {\n  build(Model, props) {\n    const model = new Model;\n    this.set(props, model, Model);\n    return model;\n  }\n  async save(model, Model) {\n    return model;\n  }\n  async destroy(model, Model) {\n    return model;\n  }\n  get(model, attr, Model) {\n    return model[attr];\n  }\n  set(props, model, Model) {\n    return Object.assign(model, props);\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class BookshelfAdapter extends DefaultAdapter {\n  save(doc, Model) {\n    return doc.save(null, { method: 'insert' });\n  }\n}\n\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class MongooseAdapter extends DefaultAdapter {\n  async destroy(model, Model) {\n    return model.remove();\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class SequelizeAdapter extends DefaultAdapter {\n  build(Model, props) {\n    return Model.build(props);\n  }\n}\n","import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ReduxORMAdapter extends DefaultAdapter {\n  constructor(session) {\n    super();\n    this.session = session;\n  }\n\n  build(modelName, props) {\n    return this.session[modelName].create(props);\n  }\n\n  get(model, attr) {\n    return model[attr];\n  }\n\n  async save(model, Model) {\n    return model;\n  }\n\n  async destroy(model, Model) {\n    return Promise.resolve(model.delete()).then(() => true);\n  }\n}\n","import FactoryGirl from './FactoryGirl';\n\nexport ObjectAdapter from './adapters/ObjectAdapter';\nexport BookshelfAdapter from './adapters/BookshelfAdapter';\nexport DefaultAdapter from './adapters/DefaultAdapter';\nexport MongooseAdapter from './adapters/MongooseAdapter';\nexport SequelizeAdapter from './adapters/SequelizeAdapter';\nexport ReduxORMAdapter from './adapters/ReduxORMAdapter';\n\nconst factory = new FactoryGirl();\nfactory.FactoryGirl = FactoryGirl;\n\nexport { factory };\n\nexport default factory;\n"],"names":["asyncPopulate","target","source","reject","Error","promises","map","promise","Array","isArray","attr","undefined","isPlainObject","resolve","then","v","all","objectProto","o","Factory","Model","initializer","options","name","buildOptions","attrs","extraAttrs","getFactoryAttrs","factoryAttrs","modelAttrs","filteredAttrs","reduce","hasOwnProperty","adapter","model","build","afterBuild","save","afterCreate","savedModel","num","attrsArray","buildOptionsArray","attrObject","buildOptionsObject","length","models","i","buildCallbacks","attrsMany","builtModels","builtModel","buildMany","savedModels","createdModels","createdModel","Generator","factoryGirl","key","getAdapter","get","Sequence","id","callback","generateId","sequences","next","Assoc","create","getAttribute","AssocAttrs","AssocMany","createMany","AssocAttrsMany","chance","Chance","ChanceGenerator","chanceMethod","OneOf","possibleValues","size","randomIndex","Math","floor","random","value","DefaultAdapter","props","destroy","set","FactoryGirl","factories","adapters","created","assoc","generatorThunk","assocMany","assocBuild","deprecate","assocBuildMany","assocAttrs","assocAttrsMany","seq","sequence","resetSeq","resetSequence","reset","oneOf","defaultAdapter","getFactory","factory","parent","childInitializer","parentFactory","jointInitializer","resolveInitializer","addToCreatedList","throwError","merge","add","createdArray","c","push","prev","constructor","clear","factoryNames","forEach","SomeGenerator","generator","args","generate","method","see","ObjectAdapter","BookshelfAdapter","doc","MongooseAdapter","remove","SequelizeAdapter","ReduxORMAdapter","session","modelName","delete"],"mappings":"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"}
\ No newline at end of file
+{
+	"version": 3,
+	"file": "index.umd.js",
+	"sources": [
+		"../src/utils/asyncPopulate.js",
+		"../src/Factory.js",
+		"../src/generators/Generator.js",
+		"../src/generators/Sequence.js",
+		"../src/generators/Assoc.js",
+		"../src/generators/AssocAttrs.js",
+		"../src/generators/AssocMany.js",
+		"../src/generators/AssocAttrsMany.js",
+		"../src/generators/ChanceGenerator.js",
+		"../src/generators/OneOf.js",
+		"../src/adapters/DefaultAdapter.js",
+		"../src/FactoryGirl.js",
+		"../src/adapters/ObjectAdapter.js",
+		"../src/adapters/BookshelfAdapter.js",
+		"../src/adapters/MongooseAdapter.js",
+		"../src/adapters/SequelizeAdapter.js",
+		"../src/adapters/ReduxORMAdapter.js",
+		"../src/index.js"
+	],
+	"sourcesContent": [
+		"/* eslint-disable no-underscore-dangle */\nexport default function asyncPopulate(target, source) {\n  if (typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n  if (typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = Object.keys(source).map(attr => {\n    let promise;\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (source[attr] === null || source[attr] === undefined) {\n      target[attr] = source[attr];\n    } else if (isPlainObject(source[attr])) {\n      target[attr] = target[attr] || {};\n      promise = asyncPopulate(target[attr], source[attr]);\n    } else if (typeof source[attr] === 'function') {\n      promise = Promise.resolve(source[attr]()).then(v => { target[attr] = v; });\n    } else {\n      promise = Promise.resolve(source[attr]).then(v => { target[attr] = v; });\n    }\n    return promise;\n  });\n  return Promise.all(promises);\n}\n/* eslint-enable no-underscore-dangle */\n\nconst objectProto = Object.getPrototypeOf({});\nfunction isPlainObject(o) {\n  return Object.getPrototypeOf(o) === objectProto;\n}\n",
+		"import asyncPopulate from './utils/asyncPopulate';\n\nexport default class Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = {};\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model) {\n      throw new Error('Invalid Model constructor passed to the factory');\n    }\n    if ((typeof initializer !== 'object' && typeof initializer !== 'function') ||\n        !initializer) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = { ...this.options, ...options };\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs;\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = { ...this.initializer };\n    }\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(extraAttrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    const filteredAttrs = Object.keys(factoryAttrs).reduce((attrs, name) => {\n      if (!extraAttrs.hasOwnProperty(name)) attrs[name] = factoryAttrs[name];\n      return attrs;\n    }, {});\n\n    await asyncPopulate(modelAttrs, filteredAttrs);\n    await asyncPopulate(modelAttrs, extraAttrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, extraAttrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(extraAttrs, buildOptions);\n    const model = adapter.build(this.Model, modelAttrs);\n    return this.options.afterBuild ?\n        this.options.afterBuild(model, extraAttrs, buildOptions) :\n        model;\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(model, this.Model)\n      .then(savedModel => (this.options.afterCreate ?\n          this.options.afterCreate(savedModel, attrs, buildOptions) :\n          savedModel\n      ));\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n    if (typeof buildOptionsArray === 'object' && !Array.isArray(buildOptionsArray)) {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n    attrsArray.length = buildOptionsArray.length = num;\n    const models = [];\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = [],\n      buildCallbacks = true) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map(attr => adapter.build(this.Model, attr));\n    return Promise.all(models)\n      .then(builtModels => (this.options.afterBuild && buildCallbacks ?\n          Promise.all(builtModels.map(builtModel => this.options.afterBuild(\n            builtModel, attrsArray, buildOptionsArray\n          ))) :\n          builtModels\n      ));\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    if (Array.isArray(num)) {\n      buildOptionsArray = attrsArray;\n      attrsArray = num;\n      num = attrsArray.length;\n    }\n    const models = await this.buildMany(\n      adapter, num, attrsArray, buildOptionsArray\n    );\n    const savedModels = models.map(model => adapter.save(model, this.Model));\n    return Promise.all(savedModels)\n      .then(createdModels => (this.options.afterCreate ?\n          Promise.all(createdModels.map(createdModel => this.options.afterCreate(\n            createdModel, attrsArray, buildOptionsArray\n          ))) :\n          createdModels\n      ));\n  }\n}\n",
+		"\nexport default class Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance provided');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n\n  getAttribute(name, model, key) {\n    return this.factoryGirl.getAdapter(name).get(model, key);\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class Sequence extends Generator {\n  static sequences = {};\n\n  static reset(id = null) {\n    if (!id) {\n      Sequence.sequences = {};\n    } else {\n      Sequence.sequences[id] = undefined;\n    }\n  }\n\n  generate(id = null, callback = null) {\n    if (typeof id === 'function') {\n      callback = id;\n      id = null;\n    }\n    id = id || this.id || (this.id = generateId());\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    const next = Sequence.sequences[id]++;\n    return callback ? callback(next) : next;\n  }\n}\n\nfunction generateId() {\n  let id;\n  let i = 0;\n  do {\n    id = `_${i++}`;\n  } while (id in Sequence.sequences);\n  return id;\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class Assoc extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.create(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class AssocAttrs extends Generator {\n  async generate(name, key = null, attrs = {}, buildOptions = {}) {\n    const model = await this.factoryGirl.attrs(name, attrs, buildOptions);\n    return key ? this.getAttribute(name, model, key) : model;\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class AssocMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    const models = await this.factoryGirl.createMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n",
+		"\n\nimport Generator from './Generator';\n\nexport default class AssocAttrsMany extends Generator {\n  async generate(name, num, key = null, attrs = {}, buildOptions = {}) {\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested');\n    }\n    const models = await this.factoryGirl.attrsMany(name, num, attrs, buildOptions);\n    return key ? models.map(model => this.getAttribute(name, model, key)) : models;\n  }\n}\n",
+		"\nimport Generator from './Generator';\nimport Chance from 'chance';\n\nconst chance = new Chance();\n\nexport default class ChanceGenerator extends Generator {\n  generate(chanceMethod, ...options) {\n    if (typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n    return chance[chanceMethod](...options);\n  }\n}\n",
+		"\nimport Generator from './Generator';\n\nexport default class OneOf extends Generator {\n  async generate(possibleValues) {\n    if (!Array.isArray(possibleValues)) {\n      throw new Error('Expected an array of possible values');\n    }\n\n    if (possibleValues.length < 1) {\n      throw new Error('Empty array passed for possible values');\n    }\n\n    const size = possibleValues.length;\n    const randomIndex = Math.floor(Math.random() * size);\n    const value = possibleValues[randomIndex];\n    return (typeof value === 'function') ? value() : value;\n  }\n}\n",
+		"/* eslint-disable no-unused-vars */\nexport default class DefaultAdapter {\n  build(Model, props) {\n    return new Model(props);\n  }\n  async save(model, Model) {\n    return Promise.resolve(model.save()).then(() => model);\n  }\n  async destroy(model, Model) {\n    return Promise.resolve(model.destroy()).then(() => model);\n  }\n  get(model, attr, Model) {\n    return model.get(attr);\n  }\n  set(props, model, Model) {\n    return model.set(props);\n  }\n}\n",
+		"import Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport OneOf from './generators/OneOf';\nimport DefaultAdapter from './adapters/DefaultAdapter';\n\nexport default class FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options = {}) {\n    this.assoc = generatorThunk(this, Assoc);\n    this.assocMany = generatorThunk(this, AssocMany);\n    this.assocBuild = deprecate('assocBuild', 'assocAttrs');\n    this.assocBuildMany = deprecate('assocBuildMany', 'assocAttrsMany');\n    this.assocAttrs = generatorThunk(this, AssocAttrs);\n    this.assocAttrsMany = generatorThunk(this, AssocAttrsMany);\n    this.seq = this.sequence =\n      (...args) => generatorThunk(this, Sequence)(...args);\n    this.resetSeq = this.resetSequence = id => { Sequence.reset(id); };\n    this.chance = generatorThunk(this, ChanceGenerator);\n    this.oneOf = generatorThunk(this, OneOf);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const factory = this.factories[name] = new Factory(Model, initializer, options);\n    return factory;\n  }\n\n  extend(parent, name, childInitializer, options = {}) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`Factory ${name} already defined`);\n    }\n    const parentFactory = this.getFactory(parent, true);\n    const Model = options.model || parentFactory.Model;\n    let jointInitializer;\n\n    function resolveInitializer(initializer, buildOptions) {\n      return typeof initializer === 'function' ? initializer(buildOptions) : initializer;\n    }\n\n    if (\n      typeof parentFactory.initializer === 'function' ||\n      typeof childInitializer === 'function'\n    ) {\n      jointInitializer = function initializer(buildOptions = {}) {\n        return Object.assign(\n          {},\n          resolveInitializer(parentFactory.initializer, buildOptions),\n          resolveInitializer(childInitializer, buildOptions)\n        );\n      };\n    } else {\n      jointInitializer = Object.assign({}, parentFactory.initializer, childInitializer);\n    }\n\n    const factory = this.factories[name] = new Factory(Model, jointInitializer, options);\n    return factory;\n  }\n\n  async attrs(name, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  async build(name, attrs = {}, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .build(adapter, attrs, buildOptions)\n      .then(model => (this.options.afterBuild ?\n          this.options.afterBuild(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  async create(name, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .create(adapter, attrs, buildOptions)\n      .then(createdModel => this.addToCreatedList(adapter, createdModel))\n      .then(model => (this.options.afterCreate ?\n          this.options.afterCreate(model, attrs, buildOptions) :\n          model\n      ));\n  }\n\n  attrsMany(name, num, attrs, buildOptions = {}) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  async buildMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .buildMany(adapter, num, attrs, buildOptions)\n      .then(models => (this.options.afterBuild ?\n          Promise.all(models.map(\n            model => this.options.afterBuild(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  async createMany(name, num, attrs, buildOptions = {}) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name)\n      .createMany(adapter, num, attrs, buildOptions)\n      .then(models => this.addToCreatedList(adapter, models))\n      .then(models => (this.options.afterCreate ?\n          Promise.all(models.map(\n            model => this.options.afterCreate(model, attrs, buildOptions)\n          )) :\n          models\n      ));\n  }\n\n  getFactory(name, throwError = true) {\n    if (!this.factories[name] && throwError) {\n      throw new Error(`Invalid factory '${name}' requested`);\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? { ...this.options, ...options } : options;\n  }\n\n  getAdapter(factory) {\n    return factory ?\n      (this.adapters[factory] || this.defaultAdapter) :\n      this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if (!Array.isArray(models)) {\n      this.created.add([adapter, models]);\n    } else {\n      for (const model of models) {\n        this.created.add([adapter, model]);\n      }\n    }\n    return models;\n  }\n\n  cleanUp() {\n    const createdArray = [];\n    for (const c of this.created) {\n      createdArray.push(c);\n    }\n    const promise = createdArray.reduce(\n      (prev, [adapter, model]) =>\n        prev.then(() => adapter.destroy(model, model.constructor)),\n      Promise.resolve()\n    );\n    this.created.clear();\n    this.resetSeq();\n    return promise;\n  }\n\n  setAdapter(adapter, factoryNames = null) {\n    if (!factoryNames) {\n      this.defaultAdapter = adapter;\n    } else {\n      factoryNames = Array.isArray(factoryNames) ? factoryNames : [factoryNames];\n      factoryNames.forEach(name => {\n        this.adapters[name] = adapter;\n      });\n    }\n    return adapter;\n  }\n}\n\nexport function generatorThunk(factoryGirl, SomeGenerator) {\n  const generator = new SomeGenerator(factoryGirl);\n  return (...args) => () => generator.generate(...args);\n}\n\nfunction deprecate(method, see) {\n  return () => {\n    throw new Error(`The ${method} method has been deprecated, use ${see} instead`);\n  };\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ObjectAdapter extends DefaultAdapter {\n  build(Model, props) {\n    const model = new Model;\n    this.set(props, model, Model);\n    return model;\n  }\n  async save(model, Model) {\n    return model;\n  }\n  async destroy(model, Model) {\n    return model;\n  }\n  get(model, attr, Model) {\n    return model[attr];\n  }\n  set(props, model, Model) {\n    return Object.assign(model, props);\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class BookshelfAdapter extends DefaultAdapter {\n  save(doc, Model) {\n    return doc.save(null, { method: 'insert' });\n  }\n}\n\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class MongooseAdapter extends DefaultAdapter {\n  async destroy(model, Model) {\n    return model.deleteOne();\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class SequelizeAdapter extends DefaultAdapter {\n  build(Model, props) {\n    return Model.build(props);\n  }\n}\n",
+		"import DefaultAdapter from './DefaultAdapter';\n\n/* eslint-disable no-unused-vars */\nexport default class ReduxORMAdapter extends DefaultAdapter {\n  constructor(session) {\n    super();\n    this.session = session;\n  }\n\n  build(modelName, props) {\n    return this.session[modelName].create(props);\n  }\n\n  get(model, attr) {\n    return model[attr];\n  }\n\n  async save(model, Model) {\n    return model;\n  }\n\n  async destroy(model, Model) {\n    return Promise.resolve(model.delete()).then(() => true);\n  }\n}\n",
+		"import FactoryGirl from './FactoryGirl';\n\nexport ObjectAdapter from './adapters/ObjectAdapter';\nexport BookshelfAdapter from './adapters/BookshelfAdapter';\nexport DefaultAdapter from './adapters/DefaultAdapter';\nexport MongooseAdapter from './adapters/MongooseAdapter';\nexport SequelizeAdapter from './adapters/SequelizeAdapter';\nexport ReduxORMAdapter from './adapters/ReduxORMAdapter';\n\nconst factory = new FactoryGirl();\nfactory.FactoryGirl = FactoryGirl;\n\nexport { factory };\n\nexport default factory;\n"
+	],
+	"names": [
+		"asyncPopulate",
+		"target",
+		"source",
+		"reject",
+		"Error",
+		"promises",
+		"map",
+		"promise",
+		"Array",
+		"isArray",
+		"attr",
+		"undefined",
+		"isPlainObject",
+		"resolve",
+		"then",
+		"v",
+		"all",
+		"objectProto",
+		"o",
+		"Factory",
+		"Model",
+		"initializer",
+		"options",
+		"name",
+		"buildOptions",
+		"attrs",
+		"extraAttrs",
+		"getFactoryAttrs",
+		"factoryAttrs",
+		"modelAttrs",
+		"filteredAttrs",
+		"reduce",
+		"hasOwnProperty",
+		"adapter",
+		"model",
+		"build",
+		"afterBuild",
+		"save",
+		"afterCreate",
+		"savedModel",
+		"num",
+		"attrsArray",
+		"buildOptionsArray",
+		"attrObject",
+		"buildOptionsObject",
+		"length",
+		"models",
+		"i",
+		"buildCallbacks",
+		"attrsMany",
+		"builtModels",
+		"builtModel",
+		"buildMany",
+		"savedModels",
+		"createdModels",
+		"createdModel",
+		"Generator",
+		"factoryGirl",
+		"key",
+		"getAdapter",
+		"get",
+		"Sequence",
+		"id",
+		"callback",
+		"generateId",
+		"sequences",
+		"next",
+		"Assoc",
+		"create",
+		"getAttribute",
+		"AssocAttrs",
+		"AssocMany",
+		"createMany",
+		"AssocAttrsMany",
+		"chance",
+		"Chance",
+		"ChanceGenerator",
+		"chanceMethod",
+		"OneOf",
+		"possibleValues",
+		"size",
+		"randomIndex",
+		"Math",
+		"floor",
+		"random",
+		"value",
+		"DefaultAdapter",
+		"props",
+		"destroy",
+		"set",
+		"FactoryGirl",
+		"factories",
+		"adapters",
+		"created",
+		"assoc",
+		"generatorThunk",
+		"assocMany",
+		"assocBuild",
+		"deprecate",
+		"assocBuildMany",
+		"assocAttrs",
+		"assocAttrsMany",
+		"seq",
+		"sequence",
+		"resetSeq",
+		"resetSequence",
+		"reset",
+		"oneOf",
+		"defaultAdapter",
+		"getFactory",
+		"factory",
+		"parent",
+		"childInitializer",
+		"parentFactory",
+		"jointInitializer",
+		"resolveInitializer",
+		"addToCreatedList",
+		"throwError",
+		"merge",
+		"add",
+		"createdArray",
+		"c",
+		"push",
+		"prev",
+		"constructor",
+		"clear",
+		"factoryNames",
+		"forEach",
+		"SomeGenerator",
+		"generator",
+		"args",
+		"generate",
+		"method",
+		"see",
+		"ObjectAdapter",
+		"BookshelfAdapter",
+		"doc",
+		"MongooseAdapter",
+		"remove",
+		"SequelizeAdapter",
+		"ReduxORMAdapter",
+		"session",
+		"modelName",
+		"delete"
+	],
+	"mappings": "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"
+}
